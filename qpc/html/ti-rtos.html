<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QP/C: TI-RTOS Kernel (SYS/BIOS)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a id="logo" title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com"></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QP/C
   &#160;<span id="projectnumber">6.7.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ti-rtos.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">TI-RTOS Kernel (SYS/BIOS) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ti-rtos_about">About the QP Port to TI-RTOS</a></li>
<li class="level1"><a href="#ti-rtos_qf_h">The qf_port.h Header File</a></li>
<li class="level1"><a href="#ti-rtos_qf_c">The qf_port.c Implementation File</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="ti-rtos_about"></a>
About the QP Port to TI-RTOS</h1>
<p>The <span class="img folder">ports/ti-rtos/</span> directory contains a generic platform-independent QP/C port to <a href="http://processors.wiki.ti.com/index.php/Category:SYSBIOS" target="_blank" class="extern">TI-RTOS kernel (SYS/BIOS)</a>. The provided QP port to TI-RTOS has been designed <em>generically</em> to rely exclusively on the existing TI-RTOS API. This means that the port should run without changes on any CPU/compiler platform supported by TI-RTOS.</p>
<dl class="section attention"><dt>Attention</dt><dd>The TI-RTOS requires its own tooling (XDCTOOLS) and is too big to fit into the <span class="img folder">3rd_party/</span> directory in the QP/C distribution. Therefore, you need to <b>download and install</b> TI-RTOS on your machine before you can build any examples. Please refer to the TI Application Note "TI-RTOS for TivaC Getting Started Guide" (Literature Number: <a href="http://www.ti.com/lit/ug/spruhu5d/spruhu5d.pdf" target="_blank" class="extern">SPRUHU5D</a>) for more information.</dd></dl>
<p>The QP-TI-RTOS port works as follows:</p>
<ul>
<li>Each QP active object executes in a separate <a href="http://focus.ti.com/download/trng/multimedia/dsp/OLT110026/swis.mp4" target="_blank" class="extern">TI-RTOS Software Interrupt (Swi)</a>.</li>
<li>Each QP active object thread has a unique priority (the Swi priority).</li>
<li>The critical section used in QF and QS is based on the TI-RTOS APIs <code>Hwi_disable()</code>/<code>Hwi_enable()</code>, which selectively disable interrupts and allow for nesting of critical sections.</li>
<li>The QP port uses the native event queue (<a class="el" href="qequeue_8h.html#struct_q_e_queue" title="Native QF Event Queue.">QEQueue</a>) for active object event queues.</li>
<li>The QP port uses the native QF memory pool (<a class="el" href="qmpool_8h.html#struct_q_m_pool" title="Native QF Memory Pool.">QMPool</a>) to implement event pools.</li>
<li>The QP port does not mandate any specific method to manage the QP time events, but the provided examples use the TI-RTOS clock package to periodically invoke the QP clock tick <a class="el" href="qf_8h.html#a1f1970e16f4d010b5e5b2fd046aac41e" title="Invoke the system clock tick processing QF_tickX_().">QF_TICK_X()</a> (see <a class="el" href="exa_ti-rtos.html">TI-RTOS</a> ).</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This QP port uses the TI-RTOS Swis ("Software Interrupts") to provide the thread context to run QP active objects. The TI-RTOS Swis are a perfect match to execute the run-to-completion (RTC) event processing in active objects and require far less resources (no private stacks) than regular blocking threads.</dd></dl>
<hr  />
 <h1><a class="anchor" id="ti-rtos_qf_h"></a>
The qf_port.h Header File</h1>
<p>The <span class="img folder">ports/ti-rtos/qf_port.h</span> header file contains the customization of the QP framework for the TI-RTOS kernel. The file is shown below with the explanation sections following the source code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">     #ifndef qf_port_h</span></div>
<div class="line"><span class="preprocessor">     #define qf_port_h</span></div>
<div class="line"> </div>
<div class="line">     <span class="comment">/* TI-RTOS-specific event queue and thread types, see NOTE1 */</span></div>
<div class="line"> [1] #define <a class="code" href="qk_8h.html#aee19c1d6e860d59dda6e539852b99dbe">QF_EQUEUE_TYPE</a>       <a class="code" href="qequeue_8h.html#struct_q_e_queue">QEQueue</a></div>
<div class="line"> [2] #define <a class="code" href="macros_8h.html#a7afba9d8bef1f7eab181e7fb3f74eb5e">QF_OS_OBJECT_TYPE</a>    Swi_Struct</div>
<div class="line"> [3] #define <a class="code" href="macros_8h.html#ae5bd9d2bd80006cdbcd21d2acdb91d86">QF_THREAD_TYPE</a>       Swi_Handle</div>
<div class="line"> </div>
<div class="line">     <span class="comment">/* The maximum number of active objects in the application, see NOTE2 */</span></div>
<div class="line"> [4] #define <a class="code" href="qk_2qf__port_8h.html#a776d2a032974db4bf9bcfde01ace1389">QF_MAX_ACTIVE</a>        32</div>
<div class="line"> </div>
<div class="line">     <span class="comment">/* TI-RTOS-specific critical section operations, NOTE3 */</span></div>
<div class="line"> [5] #define <a class="code" href="qk_2qf__port_8h.html#a0f6f77bdc9a431c5a74be2162fd106fa">QF_CRIT_STAT_TYPE</a>    UInt</div>
<div class="line"> [6] #define <a class="code" href="qk_2qf__port_8h.html#a55ad39820bd5eb29621a4bb4e03be884">QF_CRIT_ENTRY</a>(key_)  ((key_) = Hwi_disable())</div>
<div class="line"> [7] #define <a class="code" href="qk_2qf__port_8h.html#ac26964ee79ab7d340d046cc7dbf5251e">QF_CRIT_EXIT</a>(key_)   (Hwi_restore((key_)))</div>
<div class="line"> </div>
<div class="line"> [8] #include &lt;ti/sysbios/hal/Hwi.h&gt; <span class="comment">/* TI-RTOS Hwi package */</span></div>
<div class="line"> [9] #include &lt;ti/sysbios/knl/Swi.h&gt; <span class="comment">/* TI-RTOS Swi package */</span></div>
<div class="line"> </div>
<div class="line">     #include <span class="stringliteral">&quot;qep_port.h&quot;</span> <span class="comment">/* QEP port */</span></div>
<div class="line">     #include <span class="stringliteral">&quot;qequeue.h&quot;</span>  <span class="comment">/* this QF port uses the native QF event queue */</span></div>
<div class="line">     #include <span class="stringliteral">&quot;qmpool.h&quot;</span>   <span class="comment">/* this QF port uses the native QF memory pool */</span></div>
<div class="line">     #include <span class="stringliteral">&quot;qf.h&quot;</span>       <span class="comment">/* QF platform-independent public interface */</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">     /*****************************************************************************</span></div>
<div class="line"><span class="comment">     * interface used only inside QF, but not in applications</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">     #ifdef QP_IMPL</div>
<div class="line"> </div>
<div class="line">         <span class="comment">/* TI-RTOS-specific scheduler locking, see NOTE4 */</span></div>
<div class="line">[10]     #define <a class="code" href="qk_8h.html#afb4d05ec88a0137c243a919ecb5163a5">QF_SCHED_STAT_</a>        UInt key_;</div>
<div class="line">[11]     #define <a class="code" href="qk_8h.html#ac14354c79432577621af7b82e9f92de5">QF_SCHED_LOCK_</a>(dummy) (key_ = Swi_disable())</div>
<div class="line">[12]     #define <a class="code" href="qk_8h.html#ae105405c9dde7fbeb959f318d0c9ac6d">QF_SCHED_UNLOCK_</a>()    (Swi_restore(key_))</div>
<div class="line"> </div>
<div class="line">         <span class="comment">/* TI-RTOS-specific native event queue operations... */</span></div>
<div class="line">[13]     #define <a class="code" href="macros_8h.html#ae2426ed9b8543cbbccde98023d7773a7">QACTIVE_EQUEUE_WAIT_</a>(me_) \</div>
<div class="line">             (<a class="code" href="qassert_8h.html#a8808a28cad1ff01daf65ca8ee37de314">Q_ASSERT_ID</a>(0, (me_)-&gt;eQueue.frontEvt != (<a class="code" href="qep_8h.html#struct_q_evt">QEvt</a> *)0))</div>
<div class="line">[14]     #define <a class="code" href="macros_8h.html#ad4ad4a29e36b9ad8e2aff0e7074c2a68">QACTIVE_EQUEUE_SIGNAL_</a>(me_) Swi_post((me_)-&gt;thread)</div>
<div class="line">[15]     #define QACTIVE_EQUEUE_ONEMPTY_(dummy) ((void)0)</div>
<div class="line"> </div>
<div class="line">         <span class="comment">/* native QF event pool operations... */</span></div>
<div class="line">[16]     #define <a class="code" href="macros_8h.html#ab786be96ee118929bfb4dcd51d3acce5">QF_EPOOL_TYPE_</a>            <a class="code" href="qmpool_8h.html#struct_q_m_pool">QMPool</a></div>
<div class="line">[17]     #define <a class="code" href="macros_8h.html#af536ec576d2f03b68bcf38ca0c8b918d">QF_EPOOL_INIT_</a>(p_, poolSto_, poolSize_, evtSize_) \</div>
<div class="line">             (<a class="code" href="qmpool_8h.html#a19ce0f12f82dcf6825628ace98e980dc">QMPool_init</a>(&amp;(p_), (poolSto_), (poolSize_), (evtSize_)))</div>
<div class="line">[18]     #define <a class="code" href="macros_8h.html#a920e9b4f47e69079a12bf79a3c43a058">QF_EPOOL_EVENT_SIZE_</a>(p_)  ((<a class="code" href="stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a>)(p_).blockSize)</div>
<div class="line">[19]     #define <a class="code" href="macros_8h.html#a772933d137fecfa6c55fd4993b4207a4">QF_EPOOL_GET_</a>(p_, e_, m_) ((e_) = (<a class="code" href="qep_8h.html#struct_q_evt">QEvt</a> *)<a class="code" href="qmpool_8h.html#a76cbc3e7493ea05d944799c126b819a9">QMPool_get</a>(&amp;(p_), (m_)))</div>
<div class="line">[20]     #define <a class="code" href="macros_8h.html#ac34ffaba95ab38473684fdfeaef17d9a">QF_EPOOL_PUT_</a>(p_, e_)     (<a class="code" href="qmpool_8h.html#aa4a2037d4843f9d1eab63c0ebd7fe302">QMPool_put</a>(&amp;(p_), (e_)))</div>
<div class="line"> </div>
<div class="line">     #endif <span class="comment">/* ifdef QP_IMPL */</span></div>
<div class="line"> </div>
<div class="line">     #endif <span class="comment">/* qf_port_h */</span></div>
</div><!-- fragment --><ul class="tag">
<li>
<span class="tag">1</span> This port uses the native <a class="el" href="qequeue_8h.html#struct_q_e_queue" title="Native QF Event Queue.">QEQueue</a> class for the event queues of active objects;  </li>
<li>
<span class="tag">2</span> This port stores the entire TI-RTOS Swi control block (<code>Swi_Struct</code>) in the QMActive::osObject attribute; <span class="highlight">The inclusion of the whole <code>Swi_Struct</code> inside <a class="el" href="qf_8h.html#acb6eee6e3b8577f256e4c8de9619e19c" title="QMActive active object (based on QMsm implementation)">QMActive</a> means that this port does not need any dynamic memory allocation by TI-RTOS, so that active objects can be allocated purely <b>statically.</b></span>  </li>
<li>
<span class="tag">3</span> This port stores the TI-RTOS Swi handle (<code>Swi_Handle</code>) block in the QMActive::thread attribute;  </li>
<li>
<span class="tag">4</span> The maximum number of active objects in the application cannot exceed the number of Swi priority levels available in TI-RTOS. On 32-bit CPUs, such as ARM Cortex-M, the maximum number of Swi priority levels is 32;  </li>
<li>
<span class="tag">5</span> The macro <a class="el" href="qxk_2qf__port_8h.html#a0f6f77bdc9a431c5a74be2162fd106fa" title="Define the type of the critical section status.">QF_CRIT_STAT_TYPE</a> is defined, which means that the QF critical section implementation corresponds to the "save and restore interrupt status" policy;  </li>
<li>
<span class="tag">6</span> Critical section entry is implemented with the TI-RTOS facility <code>Hwi disable()</code>. This facilty returns the original interrupt status (status before disabling hardware interrupts); <span class="highlight">On ARM Cortex-M3/M4, <code>Hwi_disable()</code> disables interrupts selectively by means of the BASEPRI register. This means that interrupts above the 0x20 threashold are <b>never</b> disabled (run with "zero" latency). Such interrupts are "kernel unaware" and are <b>not allowed</b> to call any TI-RTOS APIs or QP APIs;</span>  </li>
<li>
<span class="tag">7</span> Critical section exit is implemented with the TI-RTOS facility <code>Hwi enable()</code>. This facilty restores the interrupt status from before entering the critical section; <span class="highlight">The critical section defined by means of TI-RTOS <code>Hwi disable()/Hwi_enable()</code> <b>can nest</b>;</span>  </li>
<li>
<span class="tag">8-9</span> The TI-RTOS APIs for Hwi and Swi are included;  </li>
<li>
<span class="tag">10-12</span> These macros define scheduler locking in the <a class="el" href="qf_8h.html#afd57334f2a1664a168b0702a106e0782" title="Invoke the event publishing facility QF_publish_().">QF_PUBLISH()</a> facility to make sure that event multicasting is done atomically to all subscribers. In general, the QF framework supports selective scheduler locking only to the level of the highest-priority subscriber. However, the TI-RTOS does not support such selective scheduler locking for Swis. Instead, the TI-RTOS locks all Swis during event multicasting. <span class="highlight">This means that publishing events to a multitude of subscribers might delay the execution of the high-priority active objects (Swis), even if they are not subscribed to those published events</span>;  </li>
<li>
<span class="tag">13</span> The macro <a class="el" href="macros_8h.html#ae2426ed9b8543cbbccde98023d7773a7" title="Platform-dependent macro defining how QF should block the calling task when the QF native queue is em...">QACTIVE_EQUEUE_WAIT_()</a> customizes the behavior of the built-in queue inside the <a class="el" href="qf__actq_8c.html#adcbedf8a48ef599959c090d7f3a0d88f" title="Get an event from the event queue of an active object.">QActive_get_()</a> operation. In this port, the <a class="el" href="qf__actq_8c.html#adcbedf8a48ef599959c090d7f3a0d88f" title="Get an event from the event queue of an active object.">QActive_get_()</a> operation is only inovked after TI-RTOS determines that the active object (Swi) needs activation. Therefore, the <a class="el" href="macros_8h.html#ae2426ed9b8543cbbccde98023d7773a7" title="Platform-dependent macro defining how QF should block the calling task when the QF native queue is em...">QACTIVE_EQUEUE_WAIT_()</a> macro only asserts that the queue is not empty;  </li>
<li>
<span class="tag">14</span> The macro <a class="el" href="macros_8h.html#ad4ad4a29e36b9ad8e2aff0e7074c2a68">QACTIVE_EQUEUE_SIGNAL_()</a> customizes the behavior of the built-in queue inside the <a class="el" href="qf__actq_8c.html#a1a81b9fd06d9c0aa5dea32d194f0552b" title="Implementation of the active object post (FIFO) operation.">QActive_post_()</a> operation. In this port, every time an event is posted to the active object, the TI-RTOS API <code>Swi_post()</code> is used to activate the Swi of the active object. <span class="highlight">Note that a Swi can be posted more than once before it is actually scheduled to run (e.g., because higher-priority Swis are running). Therefore the Swi must be also posted inside the active object Swi function;</span>  </li>
<li>
<span class="tag">15</span> The macro QACTIVE_EQUEUE_ONEMPTY_() customizes the behavior of the built-in queue inside the <a class="el" href="qf__actq_8c.html#adcbedf8a48ef599959c090d7f3a0d88f" title="Get an event from the event queue of an active object.">QActive_get_()</a> operation (when the queue is becoming empty). In this port, this macro is not used (expands to an empty C statement).  </li>
<li>
<span class="tag">16</span> This port uses the native <a class="el" href="qmpool_8h.html#struct_q_m_pool" title="Native QF Memory Pool.">QMPool</a> memory pool to implement the event pools for dynamic events;  </li>
<li>
<span class="tag">17-20</span> These macros customize the behavior of the native <a class="el" href="qmpool_8h.html#struct_q_m_pool" title="Native QF Memory Pool.">QMPool</a> memory pool to be used for event pools;  </li>
</ul>
<hr  />
 <h1><a class="anchor" id="ti-rtos_qf_c"></a>
The qf_port.c Implementation File</h1>
<p>The <span class="img folder">ports/ti-rtos/qf_port.c</span> file contains the implementation of the QP port to the TI-RTOS kernel. The file is shown below with the explanation sections following the source code:</p>
<div class="fragment"><div class="line">     ~ ~ ~</div>
<div class="line">     <span class="comment">/*..........................................................................*/</span></div>
<div class="line"> [1] <span class="keywordtype">void</span> <a class="code" href="qf_8h.html#adac7eccb860d910c4e446d3143798bba">QF_init</a>(<span class="keywordtype">void</span>) {</div>
<div class="line">     }</div>
<div class="line">     <span class="comment">/*..........................................................................*/</span></div>
<div class="line"> [2] <a class="code" href="qassert_8h.html#ab6fd6105e64ed14a0c9281326f05e623">int_t</a> <a class="code" href="qf_8h.html#a779a1bc9482e2d489dc87751cd100fdb">QF_run</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"> [3]     <a class="code" href="qf_8h.html#a189a6d2ece787717c81fbf51fd180732">QF_onStartup</a>();  <span class="comment">/* configure &amp; start interrupts */</span></div>
<div class="line"> [4]     BIOS_start();    <span class="comment">/* start TI-RTOT (SYS/BIOS) */</span></div>
<div class="line"> </div>
<div class="line">         <a class="code" href="qassert_8h.html#ae16bddd04e54835e5bf8cbbb0ae90d30">Q_ERROR_ID</a>(100); <span class="comment">/* BIOS_start() should never return */</span></div>
<div class="line">         <span class="keywordflow">return</span> (<a class="code" href="qassert_8h.html#ab6fd6105e64ed14a0c9281326f05e623">int_t</a>)0; <span class="comment">/* this unreachable return keeps the compiler happy */</span></div>
<div class="line">     }</div>
<div class="line">     ~ ~ ~</div>
<div class="line"> </div>
<div class="line">     <span class="comment">/*..........................................................................*/</span></div>
<div class="line"> [5] <span class="keywordtype">void</span> <a class="code" href="qf__pkg_8h.html#a9d4a6d2f3cf9b7fb6fcde1e79e62f660">QActive_start_</a>(<a class="code" href="qf_8h.html#struct_q_active">QActive</a> * <span class="keyword">const</span> me, <a class="code" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> prio,</div>
<div class="line">                         <a class="code" href="qep_8h.html#struct_q_evt">QEvt</a> <span class="keyword">const</span> *qSto[], <a class="code" href="stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a> qLen,</div>
<div class="line">                         <span class="keywordtype">void</span> *stkSto, <a class="code" href="stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a> stkSize,</div>
<div class="line">                         <a class="code" href="qep_8h.html#struct_q_evt">QEvt</a> <span class="keyword">const</span> *ie)</div>
<div class="line">     {</div>
<div class="line">         Swi_Params swiParams;</div>
<div class="line"> </div>
<div class="line">         <a class="code" href="qassert_8h.html#abacf59f21a2f59dc79ca39bb1ab9c3c0">Q_REQUIRE_ID</a>(400, ((<a class="code" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a>)0 &lt; prio)</div>
<div class="line">                      &amp;&amp; (prio &lt;= (<a class="code" href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a>)<a class="code" href="qk_2qf__port_8h.html#a776d2a032974db4bf9bcfde01ace1389">QF_MAX_ACTIVE</a>)</div>
<div class="line"> [6]                  &amp;&amp; (stkSto == (<span class="keywordtype">void</span> *)0));</div>
<div class="line"> </div>
<div class="line">         (void)stkSize; <span class="comment">/* avoid the &quot;unused parameter&quot; compiler warning */</span></div>
<div class="line"> </div>
<div class="line"> [7]     <a class="code" href="qequeue_8h.html#a77b93c32f4d1a0775e89222371870633">QEQueue_init</a>(&amp;me-&gt;eQueue, qSto, qLen);</div>
<div class="line"> [8]     me-&gt;<a class="code" href="qf_8h.html#acc0b27a6740f03639727be452f1e6b83">prio</a> = prio; <span class="comment">/* set QF priority of this AO before adding it to QF */</span></div>
<div class="line"> [9]     <a class="code" href="qf_8h.html#a438fc360095cdafd2b4ba7f5d65bc9b0">QF_add_</a>(me);     <span class="comment">/* make QF aware of this active object */</span></div>
<div class="line">[10]     <a class="code" href="qpc_8h.html#a3f4ede7ae922aa2c749176f9269c1ba6">QMSM_INIT</a>(&amp;me-&gt;<a class="code" href="qf_8h.html#a292a76f05e6800a383c7615b4c88cd0e">super</a>, ie); <span class="comment">/* take the top-most initial tran. */</span></div>
<div class="line"> </div>
<div class="line">[11]     <a class="code" href="qs_8h.html#adf0d501b66d8daf465995274db23f60f">QS_FLUSH</a>(); <span class="comment">/* flush the QS trace buffer to the host */</span></div>
<div class="line"> </div>
<div class="line">         <span class="comment">/* create TI-RTOS Swi to run this active object... */</span></div>
<div class="line">[12]     Swi_Params_init(&amp;swiParams);</div>
<div class="line">[13]     swiParams.arg0 = (xdc_UArg)me; <span class="comment">/* the &quot;me&quot; pointer */</span></div>
<div class="line">[14]     swiParams.arg1 = 0;        <span class="comment">/* not used */</span></div>
<div class="line">[15]     swiParams.priority = prio; <span class="comment">/* TI-RTOS Swis can use the QP priority */</span></div>
<div class="line">         swiParams.trigger = 0;     <span class="comment">/* not used */</span></div>
<div class="line">[16]     Swi_construct(&amp;me-&gt;osObject, &amp;swi_function, &amp;swiParams, NULL);</div>
<div class="line">[17]     me-&gt;thread = Swi_handle(&amp;me-&gt;osObject);</div>
<div class="line"> </div>
<div class="line">         <span class="comment">/* TI-RTOS Swi must be created correctly */</span></div>
<div class="line">[18]     <a class="code" href="qassert_8h.html#aa8639670682ec29addc58801137f1e23">Q_ENSURE_ID</a>(490, me-&gt;thread != 0);</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">     <span class="comment">/*..........................................................................*/</span></div>
<div class="line">[19] <span class="keyword">static</span> <span class="keywordtype">void</span> swi_function(UArg arg0, UArg arg1) { <span class="comment">/* TI-RTOS Swi signature */</span></div>
<div class="line">[20]     <a class="code" href="qf_8h.html#struct_q_active">QMActive</a> *act = (<a class="code" href="qf_8h.html#struct_q_active">QMActive</a> *)arg0;</div>
<div class="line">[21]     <a class="code" href="qep_8h.html#struct_q_evt">QEvt</a> <span class="keyword">const</span> *e = <a class="code" href="qf__actq_8c.html#adcbedf8a48ef599959c090d7f3a0d88f">QActive_get_</a>(act);</div>
<div class="line">[22]     <a class="code" href="qpc_8h.html#a43f23513c6d1d9f5dcc410f5cd001b51">QMSM_DISPATCH</a>(&amp;act-&gt;<a class="code" href="qf_8h.html#a292a76f05e6800a383c7615b4c88cd0e">super</a>, e); <span class="comment">/* dispatch to the AO&#39;s SM */</span></div>
<div class="line">[23]     <a class="code" href="qf_8h.html#a7aa4e9d39b8af089405cb829e2cc5a24">QF_gc</a>(e); <span class="comment">/* check if the event is garbage, and collect it if so */</span></div>
<div class="line">         (void)arg1; <span class="comment">/* unused parameter */</span></div>
<div class="line"> </div>
<div class="line">         <span class="comment">/* are events still available for this AO? */</span></div>
<div class="line">[24]     <span class="keywordflow">if</span> (act-&gt;eQueue.frontEvt != (<a class="code" href="qep_8h.html#struct_q_evt">QEvt</a> *)0) {</div>
<div class="line">[25]         Swi_post(act-&gt;thread);</div>
<div class="line">         }</div>
<div class="line">     }</div>
</div><!-- fragment --><ul class="tag">
<li>
<span class="tag">1</span> The <a class="el" href="qf_8h.html#adac7eccb860d910c4e446d3143798bba" title="QF initialization.">QF_init()</a> function is empty in this port;  </li>
<li>
<span class="tag">2</span> The <a class="el" href="qf_8h.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF to run the application.">QF_run()</a> function transfers the control to the QF frameworks and starts multitasking. This function does not return in the TI-RTOS kernel;  </li>
<li>
<span class="tag">3</span> The <a class="el" href="qf_8h.html#a189a6d2ece787717c81fbf51fd180732" title="Startup QF callback.">QF_onStartup()</a> callback function (typically implemented in the BSP), starts interrupts and the system clock tick for QF;  </li>
<li>
<span class="tag">4</span> The TI-RTOS API <code>BIOS_start()</code> should not return, so this assertion fires when <code>BIOS_start()</code> ever returns;  </li>
<li>
<span class="tag">5</span> The <a class="el" href="qf__pkg_8h.html#a9d4a6d2f3cf9b7fb6fcde1e79e62f660" title="Implementation of the active object start operation.">QActive_start_()</a> function starts active object execution. This function can be called before <a class="el" href="qf_8h.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF to run the application.">QF_run()</a> or after <a class="el" href="qf_8h.html#a779a1bc9482e2d489dc87751cd100fdb" title="Transfers control to QF to run the application.">QF_run()</a>, from a running active object or TI-RTOS thread.  </li>
<li>
<span class="tag">6</span> In this port the active object does not need a private stack space. This assertion (precondition) makes sure that no stack memory is passed to the active object, so that the memory is wasted;  </li>
<li>
<span class="tag">7</span> The <a class="el" href="qequeue_8h.html#struct_q_e_queue" title="Native QF Event Queue.">QEQueue</a> is initialized with the provided memory for the ring buffer;  </li>
<li>
<span class="tag">8</span> The active object priority is set;  </li>
<li>
<span class="tag">9</span> The active oject is added to the QF framework to be managed;  </li>
<li>
<span class="tag">10</span> The top-most initial transition in the state machine of this active object is taken;  </li>
<li>
<span class="tag">11</span> The QS software tracing buffer is flushed so that any QS trace records produced during the startup of the active object (this code is inactive in the Debug or Release build configurations);  </li>
<li>
<span class="tag">12</span> The TI-RTOS Swi parameters are initialized to the default values;  </li>
<li>
<span class="tag">13</span> The first Swi argument (<code>arg0</code>) of the Swi routine is set to the <code>me</code> pointer of this active object;  </li>
<li>
<span class="tag">14</span> The second Swi argument (<code>arg1</code>) of the Swi routine is set to zero (not used);  </li>
<li>
<span class="tag">15</span> The Swi priority is set to the priority of the active object. <span class="highlight">The QP priority numbering is compatible with the TI-RTOS priority numbering of Swis;</span>  </li>
<li>
<span class="tag">16</span> The TI-RTOS function <code>Swi_construct()</code> initializes the Swi in the provided memory (<code>me-&gt;osObject</code>). This function does not allocate any dynamic memory from TI-RTOS&ndash;it just uses the provided memory;  </li>
<li>
<span class="tag">17</span> The active object <code>thread</code> attribute is set to the Swi handle;  </li>
<li>
<span class="tag">18</span> The postcondition ensures that the handle is non-zero, meaning that the Swi has been created correctly;  </li>
<li>
<span class="tag">19</span> The <code>swi_function()</code> is the function that all active object Swis execute when activated. This is a one-shot function that runs to completion without looping;  </li>
<li>
<span class="tag">20</span> Even though all active object Swis run the same function they each refer to their own attributes by means of the <code>arg1</code> parameter, which was initialized to the <code>me</code> pointer;  </li>
<li>
<span class="tag">21</span> The active object queue is called to get an event, which must be available at this point or the Swi won't be activated (posted);  </li>
<li>
<span class="tag">22</span> The event is dispatched to the active object state machine;  </li>
<li>
<span class="tag">23</span> The event is passed to the QF garbage collector and is recycled if no longer in use;  </li>
<li>
<span class="tag">24</span> If any events are still available in the event queue...;  </li>
<li>
<span class="tag">25</span> The Swi of the active object is posted again (<code>Swi_post()</code>) so that TI-RTOS will keep the Swi ready-to-run;  </li>
</ul>
<hr  />
<p><b>Next:</b> <a class="el" href="ucos-ii.html">uC/OS-II</a></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="aqpc_8h_html_a43f23513c6d1d9f5dcc410f5cd001b51"><div class="ttname"><a href="qpc_8h.html#a43f23513c6d1d9f5dcc410f5cd001b51">QMSM_DISPATCH</a></div><div class="ttdeci">#define QMSM_DISPATCH(me_, e_)</div><div class="ttdef"><b>Definition:</b> <a href="qpc_8h_source.html#l00110">qpc.h:110</a></div></div>
<div class="ttc" id="aqf_8h_html_a189a6d2ece787717c81fbf51fd180732"><div class="ttname"><a href="qf_8h.html#a189a6d2ece787717c81fbf51fd180732">QF_onStartup</a></div><div class="ttdeci">void QF_onStartup(void)</div><div class="ttdoc">Startup QF callback.</div></div>
<div class="ttc" id="amacros_8h_html_a920e9b4f47e69079a12bf79a3c43a058"><div class="ttname"><a href="macros_8h.html#a920e9b4f47e69079a12bf79a3c43a058">QF_EPOOL_EVENT_SIZE_</a></div><div class="ttdeci">#define QF_EPOOL_EVENT_SIZE_(p_)</div><div class="ttdoc">Platform-dependent macro defining how QF should obtain the event pool block-size.</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00135">macros.h:135</a></div></div>
<div class="ttc" id="amacros_8h_html_a772933d137fecfa6c55fd4993b4207a4"><div class="ttname"><a href="macros_8h.html#a772933d137fecfa6c55fd4993b4207a4">QF_EPOOL_GET_</a></div><div class="ttdeci">#define QF_EPOOL_GET_(p_, e_, m_)</div><div class="ttdoc">Platform-dependent macro defining how QF should obtain an event e_ from the event pool p_ with the fr...</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00144">macros.h:144</a></div></div>
<div class="ttc" id="aqassert_8h_html_ae16bddd04e54835e5bf8cbbb0ae90d30"><div class="ttname"><a href="qassert_8h.html#ae16bddd04e54835e5bf8cbbb0ae90d30">Q_ERROR_ID</a></div><div class="ttdeci">#define Q_ERROR_ID(id_)</div><div class="ttdoc">Assertion with user-specified assertion-id for a wrong path.</div><div class="ttdef"><b>Definition:</b> <a href="qassert_8h_source.html#l00211">qassert.h:211</a></div></div>
<div class="ttc" id="aqk_2qf__port_8h_html_a0f6f77bdc9a431c5a74be2162fd106fa"><div class="ttname"><a href="qk_2qf__port_8h.html#a0f6f77bdc9a431c5a74be2162fd106fa">QF_CRIT_STAT_TYPE</a></div><div class="ttdeci">#define QF_CRIT_STAT_TYPE</div><div class="ttdoc">Define the type of the critical section status.</div><div class="ttdef"><b>Definition:</b> <a href="qk_2qf__port_8h_source.html#l00221">qk/qf_port.h:221</a></div></div>
<div class="ttc" id="aqf_8h_html_a292a76f05e6800a383c7615b4c88cd0e"><div class="ttname"><a href="qf_8h.html#a292a76f05e6800a383c7615b4c88cd0e">QActive::super</a></div><div class="ttdeci">QHsm super</div><div class="ttdoc">inherits QHsm</div><div class="ttdef"><b>Definition:</b> <a href="qf_8h_source.html#l00115">qf.h:115</a></div></div>
<div class="ttc" id="aqassert_8h_html_aa8639670682ec29addc58801137f1e23"><div class="ttname"><a href="qassert_8h.html#aa8639670682ec29addc58801137f1e23">Q_ENSURE_ID</a></div><div class="ttdeci">#define Q_ENSURE_ID(id_, test_)</div><div class="ttdoc">Assertion for checking postconditions with user-specified assertion-id.</div><div class="ttdef"><b>Definition:</b> <a href="qassert_8h_source.html#l00292">qassert.h:292</a></div></div>
<div class="ttc" id="amacros_8h_html_ae2426ed9b8543cbbccde98023d7773a7"><div class="ttname"><a href="macros_8h.html#ae2426ed9b8543cbbccde98023d7773a7">QACTIVE_EQUEUE_WAIT_</a></div><div class="ttdeci">#define QACTIVE_EQUEUE_WAIT_(me_)</div><div class="ttdoc">Platform-dependent macro defining how QF should block the calling task when the QF native queue is em...</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00064">macros.h:64</a></div></div>
<div class="ttc" id="aqmpool_8h_html_a76cbc3e7493ea05d944799c126b819a9"><div class="ttname"><a href="qmpool_8h.html#a76cbc3e7493ea05d944799c126b819a9">QMPool_get</a></div><div class="ttdeci">void * QMPool_get(QMPool *const me, uint_fast16_t const margin)</div><div class="ttdoc">Obtains a memory block from a memory pool.</div><div class="ttdef"><b>Definition:</b> <a href="qf__mem_8c_source.html#l00211">qf_mem.c:211</a></div></div>
<div class="ttc" id="aqep_8h_html_struct_q_evt"><div class="ttname"><a href="qep_8h.html#struct_q_evt">QEvt</a></div><div class="ttdoc">Event structure.</div><div class="ttdef"><b>Definition:</b> <a href="qep_8h_source.html#l00151">qep.h:151</a></div></div>
<div class="ttc" id="aqk_8h_html_ae105405c9dde7fbeb959f318d0c9ac6d"><div class="ttname"><a href="qk_8h.html#ae105405c9dde7fbeb959f318d0c9ac6d">QF_SCHED_UNLOCK_</a></div><div class="ttdeci">#define QF_SCHED_UNLOCK_()</div><div class="ttdoc">Internal macro for selective scheduler unlocking.</div><div class="ttdef"><b>Definition:</b> <a href="qk_8h_source.html#l00175">qk.h:175</a></div></div>
<div class="ttc" id="aqf_8h_html_a779a1bc9482e2d489dc87751cd100fdb"><div class="ttname"><a href="qf_8h.html#a779a1bc9482e2d489dc87751cd100fdb">QF_run</a></div><div class="ttdeci">int_t QF_run(void)</div><div class="ttdoc">Transfers control to QF to run the application.</div><div class="ttdef"><b>Definition:</b> <a href="qutest_8c_source.html#l00070">qutest.c:70</a></div></div>
<div class="ttc" id="aqmpool_8h_html_a19ce0f12f82dcf6825628ace98e980dc"><div class="ttname"><a href="qmpool_8h.html#a19ce0f12f82dcf6825628ace98e980dc">QMPool_init</a></div><div class="ttdeci">void QMPool_init(QMPool *const me, void *const poolSto, uint_fast32_t poolSize, uint_fast16_t blockSize)</div><div class="ttdoc">Initializes the native QF memory pool.</div><div class="ttdef"><b>Definition:</b> <a href="qf__mem_8c_source.html#l00088">qf_mem.c:88</a></div></div>
<div class="ttc" id="aqf_8h_html_acc0b27a6740f03639727be452f1e6b83"><div class="ttname"><a href="qf_8h.html#acc0b27a6740f03639727be452f1e6b83">QActive::prio</a></div><div class="ttdeci">uint8_t prio</div><div class="ttdoc">QF priority (1..QF_MAX_ACTIVE) of this active object.</div><div class="ttdef"><b>Definition:</b> <a href="qf_8h_source.html#l00157">qf.h:157</a></div></div>
<div class="ttc" id="aqk_2qf__port_8h_html_a55ad39820bd5eb29621a4bb4e03be884"><div class="ttname"><a href="qk_2qf__port_8h.html#a55ad39820bd5eb29621a4bb4e03be884">QF_CRIT_ENTRY</a></div><div class="ttdeci">#define QF_CRIT_ENTRY(stat_)</div><div class="ttdoc">Define the critical section entry policy.</div><div class="ttdef"><b>Definition:</b> <a href="qk_2qf__port_8h_source.html#l00236">qk/qf_port.h:236</a></div></div>
<div class="ttc" id="aqequeue_8h_html_struct_q_e_queue"><div class="ttname"><a href="qequeue_8h.html#struct_q_e_queue">QEQueue</a></div><div class="ttdoc">Native QF Event Queue.</div><div class="ttdef"><b>Definition:</b> <a href="qequeue_8h_source.html#l00130">qequeue.h:130</a></div></div>
<div class="ttc" id="aqf_8h_html_a7aa4e9d39b8af089405cb829e2cc5a24"><div class="ttname"><a href="qf_8h.html#a7aa4e9d39b8af089405cb829e2cc5a24">QF_gc</a></div><div class="ttdeci">void QF_gc(QEvt const *const e)</div><div class="ttdoc">Recycle a dynamic event.</div><div class="ttdef"><b>Definition:</b> <a href="qf__dyn_8c_source.html#l00229">qf_dyn.c:229</a></div></div>
<div class="ttc" id="aqk_8h_html_ac14354c79432577621af7b82e9f92de5"><div class="ttname"><a href="qk_8h.html#ac14354c79432577621af7b82e9f92de5">QF_SCHED_LOCK_</a></div><div class="ttdeci">#define QF_SCHED_LOCK_(prio_)</div><div class="ttdoc">Internal macro for selective scheduler locking.</div><div class="ttdef"><b>Definition:</b> <a href="qk_8h_source.html#l00166">qk.h:166</a></div></div>
<div class="ttc" id="aqmpool_8h_html_aa4a2037d4843f9d1eab63c0ebd7fe302"><div class="ttname"><a href="qmpool_8h.html#aa4a2037d4843f9d1eab63c0ebd7fe302">QMPool_put</a></div><div class="ttdeci">void QMPool_put(QMPool *const me, void *b)</div><div class="ttdoc">Recycles a memory block back to a memory pool.</div><div class="ttdef"><b>Definition:</b> <a href="qf__mem_8c_source.html#l00159">qf_mem.c:159</a></div></div>
<div class="ttc" id="aqf_8h_html_adac7eccb860d910c4e446d3143798bba"><div class="ttname"><a href="qf_8h.html#adac7eccb860d910c4e446d3143798bba">QF_init</a></div><div class="ttdeci">void QF_init(void)</div><div class="ttdoc">QF initialization.</div><div class="ttdef"><b>Definition:</b> <a href="qutest_8c_source.html#l00055">qutest.c:55</a></div></div>
<div class="ttc" id="astdint_8h_html_ad0906fbe05a45fbdb000c58fe8929e70"><div class="ttname"><a href="stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a></div><div class="ttdeci">unsigned int uint_fast8_t</div><div class="ttdoc">fast at-least 8-bit unsigned int</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00037">stdint.h:37</a></div></div>
<div class="ttc" id="aqf__pkg_8h_html_a9d4a6d2f3cf9b7fb6fcde1e79e62f660"><div class="ttname"><a href="qf__pkg_8h.html#a9d4a6d2f3cf9b7fb6fcde1e79e62f660">QActive_start_</a></div><div class="ttdeci">void QActive_start_(QActive *const me, uint_fast8_t prio, QEvt const *qSto[], uint_fast16_t qLen, void *stkSto, uint_fast16_t stkSize, void const *const par)</div><div class="ttdoc">Implementation of the active object start operation.</div><div class="ttdef"><b>Definition:</b> <a href="qutest_8c_source.html#l00082">qutest.c:82</a></div></div>
<div class="ttc" id="amacros_8h_html_ad4ad4a29e36b9ad8e2aff0e7074c2a68"><div class="ttname"><a href="macros_8h.html#ad4ad4a29e36b9ad8e2aff0e7074c2a68">QACTIVE_EQUEUE_SIGNAL_</a></div><div class="ttdeci">#define QACTIVE_EQUEUE_SIGNAL_(me_)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00068">macros.h:68</a></div></div>
<div class="ttc" id="aqequeue_8h_html_a77b93c32f4d1a0775e89222371870633"><div class="ttname"><a href="qequeue_8h.html#a77b93c32f4d1a0775e89222371870633">QEQueue_init</a></div><div class="ttdeci">void QEQueue_init(QEQueue *const me, QEvt const *qSto[], uint_fast16_t const qLen)</div><div class="ttdoc">Initialize the native QF event queue.</div><div class="ttdef"><b>Definition:</b> <a href="qf__qeq_8c_source.html#l00071">qf_qeq.c:71</a></div></div>
<div class="ttc" id="aqk_2qf__port_8h_html_ac26964ee79ab7d340d046cc7dbf5251e"><div class="ttname"><a href="qk_2qf__port_8h.html#ac26964ee79ab7d340d046cc7dbf5251e">QF_CRIT_EXIT</a></div><div class="ttdeci">#define QF_CRIT_EXIT(stat_)</div><div class="ttdoc">Define the critical section exit policy.</div><div class="ttdef"><b>Definition:</b> <a href="qk_2qf__port_8h_source.html#l00252">qk/qf_port.h:252</a></div></div>
<div class="ttc" id="amacros_8h_html_ab786be96ee118929bfb4dcd51d3acce5"><div class="ttname"><a href="macros_8h.html#ab786be96ee118929bfb4dcd51d3acce5">QF_EPOOL_TYPE_</a></div><div class="ttdeci">#define QF_EPOOL_TYPE_</div><div class="ttdoc">This macro defines the type of the event pool used in the QK kernel.</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00109">macros.h:109</a></div></div>
<div class="ttc" id="amacros_8h_html_a7afba9d8bef1f7eab181e7fb3f74eb5e"><div class="ttname"><a href="macros_8h.html#a7afba9d8bef1f7eab181e7fb3f74eb5e">QF_OS_OBJECT_TYPE</a></div><div class="ttdeci">#define QF_OS_OBJECT_TYPE</div><div class="ttdoc">This macro defines the type of the OS-Object used for blocking the native QF event queue when the que...</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00049">macros.h:49</a></div></div>
<div class="ttc" id="aqassert_8h_html_a8808a28cad1ff01daf65ca8ee37de314"><div class="ttname"><a href="qassert_8h.html#a8808a28cad1ff01daf65ca8ee37de314">Q_ASSERT_ID</a></div><div class="ttdeci">#define Q_ASSERT_ID(id_, test_)</div><div class="ttdoc">General purpose assertion with user-specified assertion-id.</div><div class="ttdef"><b>Definition:</b> <a href="qassert_8h_source.html#l00155">qassert.h:155</a></div></div>
<div class="ttc" id="aqassert_8h_html_abacf59f21a2f59dc79ca39bb1ab9c3c0"><div class="ttname"><a href="qassert_8h.html#abacf59f21a2f59dc79ca39bb1ab9c3c0">Q_REQUIRE_ID</a></div><div class="ttdeci">#define Q_REQUIRE_ID(id_, test_)</div><div class="ttdoc">Assertion for checking preconditions with user-specified assertion-id.</div><div class="ttdef"><b>Definition:</b> <a href="qassert_8h_source.html#l00273">qassert.h:273</a></div></div>
<div class="ttc" id="aqf__actq_8c_html_adcbedf8a48ef599959c090d7f3a0d88f"><div class="ttname"><a href="qf__actq_8c.html#adcbedf8a48ef599959c090d7f3a0d88f">QActive_get_</a></div><div class="ttdeci">const QEvt * QActive_get_(QActive *const me)</div><div class="ttdoc">Get an event from the event queue of an active object.</div><div class="ttdef"><b>Definition:</b> <a href="qf__actq_8c_source.html#l00329">qf_actq.c:329</a></div></div>
<div class="ttc" id="aqmpool_8h_html_struct_q_m_pool"><div class="ttname"><a href="qmpool_8h.html#struct_q_m_pool">QMPool</a></div><div class="ttdoc">Native QF Memory Pool.</div><div class="ttdef"><b>Definition:</b> <a href="qmpool_8h_source.html#l00118">qmpool.h:118</a></div></div>
<div class="ttc" id="aqk_8h_html_afb4d05ec88a0137c243a919ecb5163a5"><div class="ttname"><a href="qk_8h.html#afb4d05ec88a0137c243a919ecb5163a5">QF_SCHED_STAT_</a></div><div class="ttdeci">#define QF_SCHED_STAT_</div><div class="ttdoc">Internal macro to represent the scheduler lock status that needs to be preserved to allow nesting of ...</div><div class="ttdef"><b>Definition:</b> <a href="qk_8h_source.html#l00163">qk.h:163</a></div></div>
<div class="ttc" id="aqs_8h_html_adf0d501b66d8daf465995274db23f60f"><div class="ttname"><a href="qs_8h.html#adf0d501b66d8daf465995274db23f60f">QS_FLUSH</a></div><div class="ttdeci">#define QS_FLUSH()</div><div class="ttdoc">Flush the QS trace data to the host.</div><div class="ttdef"><b>Definition:</b> <a href="qs_8h_source.html#l01068">qs.h:1068</a></div></div>
<div class="ttc" id="aqassert_8h_html_ab6fd6105e64ed14a0c9281326f05e623"><div class="ttname"><a href="qassert_8h.html#ab6fd6105e64ed14a0c9281326f05e623">int_t</a></div><div class="ttdeci">int int_t</div><div class="ttdoc">typedef for assertions-ids and line numbers in assertions.</div><div class="ttdef"><b>Definition:</b> <a href="qassert_8h_source.html#l00086">qassert.h:86</a></div></div>
<div class="ttc" id="aqk_2qf__port_8h_html_a776d2a032974db4bf9bcfde01ace1389"><div class="ttname"><a href="qk_2qf__port_8h.html#a776d2a032974db4bf9bcfde01ace1389">QF_MAX_ACTIVE</a></div><div class="ttdeci">#define QF_MAX_ACTIVE</div><div class="ttdoc">The maximum number of active objects in the application.</div><div class="ttdef"><b>Definition:</b> <a href="qk_2qf__port_8h_source.html#l00058">qk/qf_port.h:58</a></div></div>
<div class="ttc" id="amacros_8h_html_ae5bd9d2bd80006cdbcd21d2acdb91d86"><div class="ttname"><a href="macros_8h.html#ae5bd9d2bd80006cdbcd21d2acdb91d86">QF_THREAD_TYPE</a></div><div class="ttdeci">#define QF_THREAD_TYPE</div><div class="ttdoc">This macro defines the type of the thread handle used for the active objects.</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00053">macros.h:53</a></div></div>
<div class="ttc" id="aqk_8h_html_aee19c1d6e860d59dda6e539852b99dbe"><div class="ttname"><a href="qk_8h.html#aee19c1d6e860d59dda6e539852b99dbe">QF_EQUEUE_TYPE</a></div><div class="ttdeci">#define QF_EQUEUE_TYPE</div><div class="ttdoc">Kernel-dependent type of the event queue used for QK threads.</div><div class="ttdef"><b>Definition:</b> <a href="qk_8h_source.html#l00056">qk.h:56</a></div></div>
<div class="ttc" id="amacros_8h_html_af536ec576d2f03b68bcf38ca0c8b918d"><div class="ttname"><a href="macros_8h.html#af536ec576d2f03b68bcf38ca0c8b918d">QF_EPOOL_INIT_</a></div><div class="ttdeci">#define QF_EPOOL_INIT_(p_, poolSto_, poolSize_, evtSize_)</div><div class="ttdoc">Platform-dependent macro defining the event pool initialization.</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00125">macros.h:125</a></div></div>
<div class="ttc" id="amacros_8h_html_ac34ffaba95ab38473684fdfeaef17d9a"><div class="ttname"><a href="macros_8h.html#ac34ffaba95ab38473684fdfeaef17d9a">QF_EPOOL_PUT_</a></div><div class="ttdeci">#define QF_EPOOL_PUT_(p_, e_)</div><div class="ttdoc">Platform-dependent macro defining how QF should return an event e_ to the event pool p_.</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00153">macros.h:153</a></div></div>
<div class="ttc" id="aqf_8h_html_a438fc360095cdafd2b4ba7f5d65bc9b0"><div class="ttname"><a href="qf_8h.html#a438fc360095cdafd2b4ba7f5d65bc9b0">QF_add_</a></div><div class="ttdeci">void QF_add_(QActive *const a)</div><div class="ttdoc">Register an active object to be managed by the framework.</div><div class="ttdef"><b>Definition:</b> <a href="qf__act_8c_source.html#l00069">qf_act.c:69</a></div></div>
<div class="ttc" id="aqpc_8h_html_a3f4ede7ae922aa2c749176f9269c1ba6"><div class="ttname"><a href="qpc_8h.html#a3f4ede7ae922aa2c749176f9269c1ba6">QMSM_INIT</a></div><div class="ttdeci">#define QMSM_INIT(me_, e_)</div><div class="ttdef"><b>Definition:</b> <a href="qpc_8h_source.html#l00106">qpc.h:106</a></div></div>
<div class="ttc" id="astdint_8h_html_a226d967fb6d06433caf43f20dc876aae"><div class="ttname"><a href="stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a></div><div class="ttdeci">unsigned int uint_fast16_t</div><div class="ttdoc">fast at-least 16-bit unsigned int</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00039">stdint.h:39</a></div></div>
<div class="ttc" id="aqf_8h_html_struct_q_active"><div class="ttname"><a href="qf_8h.html#struct_q_active">QActive</a></div><div class="ttdoc">Active Object (based on QHsm implementation)</div><div class="ttdef"><b>Definition:</b> <a href="qf_8h_source.html#l00114">qf.h:114</a></div></div>
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QP/C 6.7.0</b>
    </li>
  </ul>
</div>
</body>
</html>
